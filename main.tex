%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Masters/Doctoral Thesis 
% LaTeX Template
% Version 2.5 (27/8/17)
%
% This template was downloaded from:
% http://www.LaTeXTemplates.com
%
% Version 2.x major modifications by:
% Vel (vel@latextemplates.com)
%
% This template is based on a template by:
% Steve Gunn (http://users.ecs.soton.ac.uk/srg/softwaretools/document/templates/)
% Sunil Patel (http://www.sunilpatel.co.uk/thesis-template/)
%
% Template license:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\documentclass[
11pt, % The default document font size, options: 10pt, 11pt, 12pt
oneside, % Two side (alternating margins) for binding by default, uncomment to switch to one side (this also stops printing skips for duplex print)
english, % ngerman for German
singlespacing, % Single line spacing, alternatives: onehalfspacing or doublespacing
%draft, % Uncomment to enable draft mode (no pictures, no links, overfull hboxes indicated)
%nolistspacing, % If the document is onehalfspacing or doublespacing, uncomment this to set spacing in lists to single
%liststotoc, % Uncomment to add the list of figures/tables/etc to the table of contents
%toctotoc, % Uncomment to add the main table of contents to the table of contents
parskip, % Uncomment to add space between paragraphs
%nohyperref, % Uncomment to not load the hyperref package
headsepline, % Uncomment to get a line under the header
chapterinoneline, % Uncomment to place the chapter title next to the number on one line
%consistentlayout, % Uncomment to change the layout of the declaration, abstract and acknowledgements pages to match the default layout
]{MastersDoctoralThesis} % The class file specifying the document structure

\usepackage[utf8]{inputenc} % Required for inputting international characters
\usepackage[T1]{fontenc} % Output font encoding for international characters

\usepackage{mathpazo} % Use the Palatino font by default

\usepackage{listings} % Use for code segments.

\usepackage[backend=bibtex,style=authoryear,natbib=true]{biblatex} % Use the
                                % bibtex backend with the authoryear citation
                                % style (which resembles APA)


\usepackage{float} % Used to get image on title page to be on title page with [H]
\usepackage{glossaries} % Use the glossaries package for making a glossary

\addbibresource{example.bib} % The filename of the bibliography
\usepackage[autostyle=true]{csquotes} % Required to generate language-dependent quotes in the bibliography

\usepackage{hyperref} % Used to automatically add Figure, etc before references.

%----------------------------------------------------------------------------------------
%	MARGIN SETTINGS
%----------------------------------------------------------------------------------------

\geometry{
	paper=letterpaper, % Change to letterpaper for US letter
	inner=2.6cm, % Inner margin
	outer=3.8cm, % Outer margin
	bindingoffset=0cm, % Binding offset
	top=1.5cm, % Top margin
	bottom=1.5cm, % Bottom margin
	%showframe, % Uncomment to show how the type block is set on the page
}

%----------------------------------------------------------------------------------------
%	THESIS INFORMATION
%----------------------------------------------------------------------------------------

\thesistitle{Systems Engineering in\\Autonomous Underwater Vehicles} % Your thesis title, this is used in the title and abstract, print it elsewhere with \ttitle
\supervisor{Mr. Aman \textsc{Nijjar}} % Your supervisor's name, this is used in the title page, print it elsewhere with \supname
\examiner{} % Your examiner's name, this is not currently used anywhere in the template, print it elsewhere with \examname
\degree{Bachelor of Software Engineering} % Your degree name, this is used in the title page and abstract, print it elsewhere with \degreename
\author{Alec \textsc{Cox}} % Your name, this is used in the title page and abstract, print it elsewhere with \authorname
\addresses{} % Your address, this is not currently used anywhere in the template, print it elsewhere with \addressname

\subject{Control System Software Engineering} % Your subject area, this is not currently used anywhere in the template, print it elsewhere with \subjectname
\keywords{} % Keywords for your thesis, this is not currently used anywhere in the template, print it elsewhere with \keywordnames
\university{\href{http://www.uvic.ca}{University of Victoria}} % Your university's name and URL, this is used in the title page and abstract, print it elsewhere with \univname
\department{\href{https://www.uvic.ca/future-students/undergraduate/programs/pages/software-engineering.php}{Software
    Engineering - 4A}} % Your department's name and URL, this is used in the title page and abstract, print it elsewhere with \deptname
\group{\href{http://www.auvic.ca}{Autonomous Underwater Vehicle Interdisciplinary Club}} % Your research group's name and URL, this is used in the title page, print it elsewhere with \groupname
\faculty{Work Term - 1}} % Your faculty's name and URL, this is used in the title page and abstract, print it elsewhere with \facname

\AtBeginDocument{
\hypersetup{pdftitle=\ttitle} % Set the PDF's title to your title
\hypersetup{pdfauthor=\authorname} % Set the PDF's author to your name
\hypersetup{pdfkeywords=\keywordnames} % Set the PDF's keywords to your keywords
}

\makeglossaries
\newglossaryentry{AUV}{name={AUV},description={Acronym for autonomous underwater
  vehicle.}}
\newglossaryentry{DFA}{name={DFA},description={Acronym for deterministic finite
    state automaton. Simply described as a machine which which takes in an input
    sequence of symbols, for each of those symbols there is a defined
    transition, the complete parsing and transition through the DFA will either
    land the machine in a state that accepts the string, and otherwise rejects.
    See
    \href{https://en.wikipedia.org/wiki/Deterministic_finite_automaton}{Wikipedia}
    for a more detailed explanation}}

\newglossaryentry{IMU}{name={IMU},description={Acronym for inertial measurement
    unit. It is a sensor consisting of usually three of the following oriented
    orthogonal to the other sensor of the same type: accelerometers, gyroscopes, and sometimes
    magnetometers. It is used to measure pitch, roll, yaw, and magnetic field}}

\newglossaryentry{ROS}{name={ROS},description={Acronym for robot operating
    system. It is a C++ and python framework for development of robotics
    systems. It provides useful tools for device level abstraction,
    inter-process communication, and much more. See the libraries website for
    more information \href{https://www.ros.org}{here}}}

\newglossaryentry{opencv}{name={OpenCV},description={A computer vision library,
    name being shorthand for open source computer vision library}}

\newglossaryentry{JSON}{name={JSON},description={An acronym for JavaScript
    object notation. Despite its original creation for use with JavaScript it
    has become widely used by other programming languages. This is because of
    its format being easy to understand by humans, and easy to parse by
    computers}}

\newglossaryentry{RPM}{name={RPM},description={Acronym for revolutions per
    minute}}

\newglossaryentry{}{name={},description={}}


\begin{document}

\let\ref\autoref % wizardry for hyperref

\frontmatter % Use roman page numbering style (i, ii, iii, iv...) for the pre-content pages

\pagestyle{plain} % Default to the plain heading style until the thesis style is called for the body content

%----------------------------------------------------------------------------------------
%	TITLE PAGE
%----------------------------------------------------------------------------------------

\begin{titlepage}
\begin{center}

{\scshape\LARGE \univname\par}\vspace{0.5cm} % University name
\textsc{\Large Engineering & Computer Science Co-op\\Work Term Report\\Summer 2019}\\[0.5cm] % Thesis type

\HRule \\[0.4cm] % Horizontal line
{\huge \bfseries \ttitle\par}\vspace{0.4cm} % Thesis title
\HRule \\[1.5cm] % Horizontal line
 
\begin{minipage}[t]{0.4\textwidth}
\begin{flushleft} \large
\emph{Author:}\\
\href{http://www.hardsoftware.net}{\authorname}\\ % Author name
\textit{V00846488\\ENGR01\\\degreename}\\
\href{avlec@uvic.ca}{avlec@uvic.ca}
\end{flushleft}
\end{minipage}
\begin{minipage}[t]{0.4\textwidth}
\begin{flushright} \large
\emph{Supervisor:} \\
\href{http://www.auvic.ca}{\supname}\\ % Supervisor name - remove the \href bracket to remove the link  
\textit{}
\end{flushright}
\end{minipage}\\[2cm]
\groupname\\\deptname\\
\large \textit{Victoria, BC, Canada}\\[0.3cm] % University requirement text

{\large \today}\\[1cm] % Date

\begin{figure}[H]
  \centering
  \includegraphics[width=100mm]{Figures/SupervisorApproval} % University/department logo - uncomment to place it
\end{figure}

\end{center}
\end{titlepage}

%----------------------------------------------------------------------------------------
%	ABSTRACT PAGE
%----------------------------------------------------------------------------------------

\begin{abstract}
\addchaptertocentry{Letter of Transmittal} % Add the abstract to the table of
% contents
Dear Imen Bourguiba,

Please accept the accompanying Work Term Report entitled ``Control Systems
Engineering in Autonomous Underwater Vehicles.''

The report is produced from work completed for AUVIC. AUVIC is located in the
University  of Victoria's Engineering Lab Wing. AUVIC is a club of undergraduate
students from different disciplines that work together to build and compete with
a AUV in the annual RoboSub competition in San Diego, California. The work done
on the software systems revolves around the control system and other systems
closely related to the control systems. This work involves creative problem
solving and generating innovative solutions to the complex challenge of
autonomous vehicle controls.

This report documents the reengineering process of AUVIC's control system.
This starts with providing the reader an understanding of the problem domain.
After the understanding has been established the report touches on the software
reengineering process. Following the reengineering process the conclusion
quickly covers over what was gained and learned from the whole process.
Finishing in the fifth section describing roadblocks encountered during the
process, and how they were overcome or how they could have been overcome.

I would like to acknowledge the work of other members of
AUVIC's software team those being: Rory Smith, Robert Keen, Adam Kwan, and Rob
Wassmann.

Sincerely,\\
\authorname
\end{abstract}

%----------------------------------------------------------------------------------------
%	LIST OF CONTENTS/FIGURES/TABLES PAGES
%----------------------------------------------------------------------------------------

\tableofcontents % Prints the main table of contents

\listoffigures % Prints the list of figures

\listoftables % Prints the list of tables

%\include{Chapters/Chapter0-Summary}


\newpage
\section*{Summary}

This report covers the re-engineering process of an existing software system,
one designed to provide autonomous control to an underwater vehicle.
Highlighting the success of the dynamic nature when it comes to on the fly
customization of the state machine.
Covering less positive results of the reengineering process; issues with
configuration and integrating the systems that were not
touched during the reengineering phase.
As well as lack of testing time, both out of and in the pool, led to rushed
last minute debugging at competition.
And also the good features from the old system that were unnoticed successes,
which resulted in problems during the competition.

Some of those good features that were missed during the re-engineering process
are as follows.

\begin{itemize}
\item Atomic movement instructions, which allowed for pre-programmed movements
  to be loaded dynamically from a \gls{JSON} file. Missing this in the final
  design led to states being significantly more complex because of their need to
  explicitly control how the AUV moved.
\item Simple interface to resources (e.g., detection results and AUV depth).
  This was possible since the control system provided an interface for them. It
  is worth noting the way this interface was implemented very poorly.
\item Simple interface to navigation commands (e.g., through atomic movement
  instructions). This allowed states to focus on getting the AUV setup to switch
  to the next state of execution. This was missed in the new design which lead
  to all movement related tasks to be done by hand.
\end{itemize}

The re-engineering process did however fix some of the problems with the
existing system. Those problems that were fixed are listed as follows.

\begin{itemize}
\item Static state control system was replaced with a control system with states
  that can be loaded at runtime.
  This is similar to how movement files were loaded from a JSON file, but these
  are loaded from a YAML configuration file.
\item Collection of too much responsibility within the control system.
  The solution was to separate the navigation components of the control system
  into different packages. However, this made access to system resources and
  navigation commands much more complex.
\end{itemize}

Summarizing, the positives from re-engineering the control system improved the
parts of the control system that they were engineered to fix.
However, the areas where the new control system were the parts left out from the
existing system.
The proper solution would need to bring the successes of both versions of the
control system into one unified system.

\printglossaries % Prints the glossary

%----------------------------------------------------------------------------------------
%	THESIS CONTENT - CHAPTERS
%----------------------------------------------------------------------------------------

\mainmatter % Begin numeric (1,2,3...) page numbering

\pagestyle{thesis} % Return the page headers back to the "thesis" style

% Include the chapters of the thesis as separate files from the Chapters folder
% Uncomment the lines as you write the chapters

\include{Chapters/Chapter1-Introduction}
\include{Chapters/Chapter2-ProblemDomain}
\include{Chapters/Chapter3-SoftwareReengineering}
\include{Chapters/Chapter4-Analysis}
\include{Chapters/Chapter5-Conclusion}

%----------------------------------------------------------------------------------------
%	THESIS CONTENT - APPENDICES
%----------------------------------------------------------------------------------------

\appendix % Cue to tell LaTeX that the following "chapters" are Appendices

% Include the appendices of the thesis as separate files from the Appendices folder
% Uncomment the lines as you write the Appendices

%\include{Appendices/AppendixA}
%\include{Appendices/AppendixB}
%\include{Appendices/AppendixC}

%----------------------------------------------------------------------------------------
%	BIBLIOGRAPHY
%----------------------------------------------------------------------------------------

%\printbibliography[heading=bibintoc]

%----------------------------------------------------------------------------------------

\end{document}  
